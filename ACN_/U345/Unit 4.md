Unit-IV Routing Area Types of Routers Backbone Router - Has at least one interface in Area 0. Internal Router - Has all of its interfaces in a single area. Flood the area with routing information. Area Border Router (ABR) - An OSPF router that has one or more interfaces in the backbone area and one or more interfaces in a nonbackbone area. These routers summarize the information about the area in which it lies and sends the information to some other area. Autonomous System Border Router (ASBR) - Connects to an area and also to an external AS. 
![[Pasted image 20260211222326.png]]
(types of routes diagram)

Types of Area Backbone area - The backbone area is the core of the OSPF network. The area to which all the other areas are connected and serve as the primary area. Standard areas - This is an area that is not "stub based". This includes the backbone area. Stub area - With stub areas external routes are not propagated into the stub area by the ABR but replaced with a default route instead. This reduces the OSPF topology along with LSA overhead. 
![[Pasted image 20260211222459.png]]
((types of area diagram))

Interior Gateway Protocols (IGP) An interior gateway protocol (IGP) is a dynamic route update protocol used between routers that run on TCP/IP hosts within a single autonomous system. The routers use this protocol to exchange information about IP routes. Routing Information Protocol (RIP): • Uses DVR algorithm based on number of hops • Works on the Network layer of the OSI model. RIP uses port number 520 • The maximum hop count allowed between source and destination for RIP is 15 and a hop count of 16 is considered as network unreachable. Open Shortest Path First (OSPF) : • Uses Link State Routing Algorithm • It uses the Dijkstra’s algorithm for calculating the shortest path. • Divides an autonomous system into areas. • Area is a collection of routers, hosts, networks all contained within an autonomous system. • Communication of hello packets are sent over each 10 sec, and when the reply is not received within 40 sec it is considered time out. Also when there is a slight change in the router configuration (routers added/removed ), the routing table is updated very fast. It is based on link state routing protocol. Interior Gateway Protocols (IGP) Intermediate System to Intermediate System( IS-IS) Protocol: • Link-state IGP • Uses flooding link state information throughout a network of routers. • IS-IS operates over L2. • IS-IS doesn’t require IP connectivity between the routers as updates are sent via CLNS(Connectionless Network Service) instead of IP. • CLNS uses network service access points (NSAPs) to address end systems. • IS-IS router can belong to only one area. Border Gateway Protocol (BGP) • Used to Exchange routing information for the internet and is the protocol used between ISP which are different AS. • BGP is EGP protocol and Open standard protocol • Inter-Autonomous System Configuration: The main role of BGP is to provide communication between two autonomous systems. • Coordination among ASBR i,e BGP speakers within the AS (Autonomous System). • It is a Path-vector protocol • BGP is application layer protocol and uses TCP for reliability and TCP port 179 What is Path Vector Routing Protocol • A path vector routing protocol is used to span different autonomous systems • It defines a route as a collection of a number of AS that it passes through from source AS to destination AS • This list of ASes are called AS path and used to avoid routing loop • AS path is also used to select path to destination BGP Peering BGP peering is the process where two routers (BGP speakers) establish a connection, typically over TCP, to exchange routing information (routes) between different Autonomous Systems (AS) on the internet, enabling them to direct traffic between networks efficiently. Or Peering is an agreement between networks (i.e. ISPs) to exchange data directly. This usually happens without money involved. Peering helps reduce latency and decreases the reliance on third-party networks. Peering steps: Establish Connection: Routers configure each other as neighbors, forming a TCP session (port 179). •Exchange Messages: Once connected, they exchange BGP messages (like OPEN, KEEPALIVE, UPDATE, NOTIFICATION) to confirm parameters and establish the session. •Share Routes: Peers exchange Network Layer Reachability Information (NLRI) to announce reachable IP prefixes (routes). ISP to Enterprise: An enterprise peers with its ISP to get routes to the internet and advertise its own public IPs. •Cloud Providers: Cloud networks peer with each other and ISPs for connectivity. •Data Centers: To connect different data centers or services efficiently. BGP Transit 

![[Pasted image 20260211222536.png]]

((IP transist network diagram with RPKI validation))

Enterprise Networks (AS2 and AS3): Here the two circles AS2 and AS3 represent two separate enterprise networks, each with its own AS. Each AS has an eBGP router that determines the best path for sending out its internet traffic. These two enterprises need transit service to the internet. BGP BGP Route Information Management Functions: Route Storage: Each BGP stores information about how to reach other networks. Route Update: Special techniques are used to determine when and how to use the information received from peers to properly update the routes. Route Selection: Each BGP uses the information in its route databases to select good routes to each network on the internet network. Route advertisement: Each BGP speaker regularly tells its peer what is knows about various networks and methods to reach them. IPV 6 IPv6 (Internet Protocol version 6) is the latest internet protocol, designed to replace IPv4 and provide a vastly larger pool of IP addresses IPv6 was mainly introduced to solve IPv4 address depletion caused by the rapid growth of devices (especially IoT) and to improve efficiency, support multimedia, and enhance security. Key features include/ Advantages Large Address Space: 128-bit addresses vastly increase available addresses. Simplified Header Format: Base header separated from optional fields, speeding up routing. Enhanced Security: Built-in support for IPsec (encryption/authentication) New Options & Extensibility: Allows additional functionalities and future protocol extensions. IPV 6 Address format Components in IPv6 Address Format 
![[Pasted image 20260211222611.png]]
(ipv6 address format)

• There are 8 groups of 4 hexadecimal digits (0-9, A-F)and each group represents 2 Bytes • Each Hex-Digit is of 4 bits (1 nibble) • Delimiter used - colon (:) • Network Prefix (first 64 bits): Used for routing; further divided into a global routing prefix (from an ISP) and a subnet ID (set by the network administrator). • Interface Identifier (last 64 bits): Uniquely identifies a specific device on a network. IPV 6 Address format Address Compression in IPV6 Leading Zero Omission: Remove leading zeros from any group (e.g., 0db8 becomes db8, 0000 becomes 0, 0042 becomes 42, and 0000 becomes 0 ) Note : Trailing zeros cannot be removed (e.g., F400 cannot become F4) Double Colon (::): Replace one or more consecutive groups of all zeros with ::. This can only be used once per address to avoid ambiguity. Examples: 2001:db8:0:0:0:0:0:1 becomes 2001:db8::1. 2001:0db8:0001:0000:0000:0ab9:C0A8:0102 becomes 2001:db8:1::ab9:C0A8:102 2001:0db8:0000:0000:0000:0000:1428:57ab becomes 2001:db8::1428:57ab fe80:0000:0000:0000:0202:b3ff:fe1e:8329 becomes fe80::202:b3ff:fe1e:8329 0000:0000:0000:0000:0000:0000:0000:0001 becomes ::1 ( Loopback address) IPV6 Addressing IPv6 uses three primary addressing methods: Unicast: Identifies a single interface; packets are delivered to that specific device. Global Unicast (2000::/3): Publicly routable on the internet, similar to IPv4 public addresses. Link-Local (fe80::/10): Automatically assigned to every interface; used for communication on the same local link and not routable. Unique Local (fc00::/7): Used for private internal networks, similar to IPv4 private ranges. Multicast (ff00::/8): Identifies a group of interfaces; packets are delivered to all members. IPv6 does not have broadcast addresses; it uses multicast instead. Anycast: Assigned to multiple interfaces; packets are delivered to the "nearest" member as determined by routing metrics. BGP Transit Feature Link – Local Address Loopback Address Purpose Communication between devices on the same local network segment (e.g., your computer and a local printer). Essential for Neighbor Discovery Protocol (NDP) and automatic address configuration. Testing and troubleshooting the device's own internal TCP/IP software stack IPv6 Range fe80::/10 (typically implemented as fe80::/64). ::1/128 (full form is 0:0:0:0:0:0:0:1). Routability Not routable by routers. Packets with link-local source or destination addresses must not be forwarded beyond the local link. Not routable at all. Traffic never leaves the host device and bypasses all physical network interfaces Scope Communication is limited to the single physical network segment. Communication is strictly internal to the local machine. Assignment Automatically configured on every IPv6-enabled physical interface (and loopback interfaces) A single, predefined address that is part of the operating system's software, not tied to a physical interface. IPV6 Header Format 
![[Pasted image 20260211222659.png]]
((ipv6 header format))

The IPv6 header is the first part of an IPv6 packet, containing essential information for routing and delivering the packet across networks. The IPv6 header representation is a structured layout of fields in an IPv6 packet, including source and destination addresses, traffic class, flow label, payload length, next header, and hop limit. It ensures proper routing and delivery of data across networks. IPV6 Header Format Version (4-bits): The size of this field is 4-bit. Indicates the version of the Internet Protocol, which is always 6 for IPv6, so the bit sequence is 0110 Traffic Class(8-bit): The Traffic Class field indicates class or priority of IPv6 packet which is similar to Service Field in IPv4 packet. It helps routers to handle the traffic based on the priority of the packet. If congestion occurs on the router, then packets with the least priority will be discarded. Flow Label (20-bits): Flow Label field is used by a source to label the packets belonging to the same flow in order to request special handling by intermediate IPv6 routers, such as nondefault quality-of-service or real-time service. A flow is typically is A voice/video call, A real-time multimedia session An interactive data stream, Or any traffic needing special handling (QoS). All packets in a flow have the same source, destination, and flow label. Payload Length (16-bits): It is a 16-bit (unsigned integer) field, indicates the total size of the payload which tells routers about the amount of information a particular packet contains in its payload. The payload Length field includes extension headers(if any) and an upperlayer packet. IPV6 Header Format Next Header (8-bits): Next Header indicates the type of extension header(if present) immediately following the IPv6 header. Whereas In some cases it indicates the protocols contained within upper-layer packets, such as TCP, UDP. Hop Limit (8-bits): Hop Limit field is the same as TTL in IPv4 packets. It indicates the maximum number of intermediate nodes IPv6 packet is allowed to travel. Its value gets decremented by one, by each node that forwards the packet and the packet is discarded if the value decrements to 0. This is used to discard the packets that are stuck in an infinite loop because of some routing error. Source Address (128-bits): Source Address is the 128-bit IPv6 address of the original source of the packet. Destination Address (128-bits): The destination Address field indicates the IPv6 address of the final destination(in most cases). All the intermediate nodes can use this information in order to correctly route the packet. Extension Headers: In order to rectify the limitations of the IPv4 Option Field, Extension Headers are introduced in IP version 6. The extension header mechanism is a very important part of the IPv6 architecture. The next Header field of IPv6 fixed header points to the first Extension Header and this first extension header points to the second extension header and so on. Multi Protocol Label Switching (MPLS) • Circuit Switching • Packet Switching • Label Switching • Multi-Protocol Label Switching (MPLS) is an advanced packet-forwarding technique used in modern networks. Instead of making routers look into complex Layer 3 routing tables for every IP packet, MPLS uses labels for forwarding decisions. These labels create pre-defined, efficient paths across the network, which enhances speed, scalability and traffic management. • MPLS (Multi Protocol Label Switching) is a mechanism that switches traffic based on labels instead of routing traffic. • MPLS can transport pretty much everything…IP, IPv6, Ethernet, frame-relay, PPP. • MPLS is considered to operate at OSI layer "2.5", below the network layer (layer 3) and above the data link layer (layer 2). Key Terminologies in MPLS 
![[Pasted image 20260211222731.png]]
((key terminologies in mpls diagram))
Provider Edge (PE) Router: Router at the edge of the MPLS provider’s network; adds/removes labels from packets. Customer Edge (CE) Router: Router at the customer’s network edge that communicates with PE routers. Label Switch Router (LSR): Router inside the MPLS core that understands and processes labels. Ingress LSR: First router that receives the packet from CE and pushes (adds) the MPLS header. Intermediate LSR: Routers that swap labels as packets move across the MPLS path. Egress LSR: The last router in the MPLS domain that pops (removes) the MPLS header before sending the packet to the CE. Push, Pop, Swap: Push -> Add a label, Pop -> Remove a label. & Swap -> Replace an existing label with a new one. MPLS Header 
![[Pasted image 20260211222810.png]]
((mpls header))

MPLS Header Field Size Description Label 20 bits Identifier used to make forwarding decisions (range: 0 to 2²⁰ – 1). Experimental (Exp) 3 bits Used for Quality of Service (QoS) and traffic prioritization. Bottom of Stack (S) 1 bit Indicates whether this label is the last in the stack (1 = last label). Time to Live (TTL) 8 bits Prevents loops; decrements by 1 at every hop. Working of MPLS
((working of mpls))
![[Pasted image 20260211222906.png]]

((working of mpls diagram 2))
![[Pasted image 20260211222930.png]]
Ingress Stage (Push): CE sends an IP packet to the PE (Ingress LSR). Ingress PE assigns a label based on the destination and attaches an MPLS header. Core Stage (Swap): Intermediate LSRs forward the packet based only on the label. They swap the label with a new one as defined in their Label Forwarding Information Base (LFIB). Egress Stage (Pop): The Egress PE removes the MPLS header and forwards the original IP packet to the CE router. Working of MPLS Working of MPLS MPLS Organizations often use this technology when they have multiple remote branch offices across the country or around the world that need access to a data center or applications at the organization’s headquarters or another branch location. MPLS is scalable, provides better performance and bandwidth, and improves user experience compared to traditional IP routing. But it is costly, difficult to deliver globally and lacks the flexibility to be carrier independent. Advantages of MPLS • Faster packet forwarding (label-based). • Supports multiple protocols (hence “multi-protocol”). • Enables Traffic Engineering (efficient use of resources). • Facilitates Quality of Service (QoS). Disadvantages of MPLS • Expensive to implement compared to IP routing. • Complexity in configuration and management. • Security is weaker than encrypted VPN solutions. • Less suitable for small-scale networks.